<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
    </head>
    <body>
        <div class="modal-overlay" id="modalOverlay">
            <div class="modal-box" style="background-color:#003152;">
                <span class="dismiss-btn" id="dismissModal">&times;</span>
                <h2 class="text-white mb-3">Book A Demo</h2>
                <form action id="emailForm" class="contact-form" method="post">
                    <div class="row">
                        <div class="col-lg-6">
                            <div
                                class="input-group input-group-icon">
                                <input name="name" type="text"
                                    placeholder="Full Name"
                                    required />
                                <div class="input-icon"><i
                                        class="fa fa-user"></i></div>
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <div
                                class=" input-group input-group-icon ">

                                <input type="text" name="designation"
                                    placeholder="Designation" required>
                                <div class="input-icon"><i
                                        class="icofont-worker"></i></div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div
                                class="form-group input-group input-group-icon ">

                                <input type="text" name="company"
                                    placeholder="Company"
                                    required>
                                <div class="input-icon"><i
                                        class="icofont-worker"></i></div>
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <div
                                class="form-group input-group input-group-icon ">

                                <input type="email" id="email"
                                    name="email"
                                    placeholder="Enter your official email"
                                    required>
                                <div class="input-icon"><i
                                        class="icofont-email"></i></div>

                                <span id="emailError" class="error">Please
                                    enter a valid official email
                                    (e.g., user@company.com)</span>
                                <br><br>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div
                                class="form-group input-group input-group-icon ">

                                <input type="text" name="phone"
                                    placeholder="Phone" required>
                                <div class="input-icon"><i
                                        class="fa fa-phone"></i></div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div
                                class="form-group input-group input-group-icon ">
                                <input type="text" name="subject"
                                    placeholder="Subject" required>
                                <div class="input-icon"><i
                                        class="icofont-question-circle"></i></div>
                            </div>
                        </div>
                        <div class=" col-lg-6 text-left ">
                            <label for="Product" class="text-white">Product</label>
                            <div class="input-group">
                                <select style="padding:8px;"
                                    class="nice-select" name="product">
                                    <option style="color:red;">Not Select</option>
                                    <option> AI-Powered Corporate LMS
                                    </option>
                                    <option> AI-Powered Educational LMS
                                    </option>
                                    <option>AI-Powered Video Creation</option>
                                    <option>Smart Video Tool</option>
                                    <option>Smart Presentations Tool</option>
                                    <option>360 Virtual Reality Tool</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-lg-6 text-left ">
                            <label for="Product" class="text-white">Service Type</label>
                            <div class="input-group">
                                <select style="padding:8px" class="nice-select"
                                    name="services">
                                    <option style="color:red;">Not Select</option>
                                    <option>Custom E-learning</option>
                                    <option> Learning App Development</option>
                                    <option> Integrations</option>
                                    <option>Moodle UI/UX Customization</option>
                                    <option value>Moodle Plugin Development</option>

                                </select>
                            </div>
                        </div>
                        <div class="col-lg-12">
                            <div
                                class="form-group input-group input-group-icon">

                                <textarea name="message"
                                    placeholder="Your Message" required></textarea>
                                <div class="input-icon"><i
                                        class="icofont-ui-message"></i></div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="form-group login-btn">
                                <button
                                    style="width: 150px; background-color:#ec9707;"
                                    class="btn" name="send" type="submit"
                                    value="Send">Request Demo</button>
                            </div>

                        </div>
                    </div>
                </form>

            </div>
        </div>
        <script>
            document.getElementById("emailForm").addEventListener("submit", function (event) {
                event.preventDefault(); // Prevent form from submitting normally
        
                const emailInput = document.getElementById("email");
                const emailError = document.getElementById("emailError");
        
                // Regular expression to validate emails except Gmail
                const officialEmailPattern = /^[a-zA-Z0-9._%+-]+@(?!gmail\.)[a-zA-Z0-9-]+\.(com|org|net|edu)$/;
                if (officialEmailPattern.test(emailInput.value)) {
                    emailError.style.display = "none";
        
                    // Collect form data
                    const formData = new FormData(document.getElementById("emailForm"));
        
                    // Send data to the PHP file using AJAX (fetch)
                    fetch("./send_email.php", {
                        method: "POST",
                        body: formData,
                    })
                        .then(response => response.text())
                        .then(data => {
                           
                            const formData = new FormData(emailForm);
                            modalOverlay.style.display = "inline";
                            emailForm.reset();
                            window.location.reload();
                        })
                    
                } else {
                    emailError.style.display = "inline";
                }
            });
        
        </script>
    </body>
</html>
